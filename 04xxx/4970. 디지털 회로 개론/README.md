# [Gold III] 디지털 회로 개론

[문제 링크](https://www.acmicpc.net/problem/4970) 

## 문제 설명

<p>3차 논리는 논리값이 "true", "false", "unknown"을 가지는 논리 체계이다. 이 체계에서는 "false"는 0의 값을 가지고, "unknown"은 1, "true"는 2의 값을 갖는다.</p>

<p>"-"을 단항 연산자, "*"와 "+"는 이항 연산자라고 하자. 이 연산자는 각각 NOT, AND, OR을 의미한다. 3차 논리에서 3개 연산자는 다음과 같이 정의되어 있다.</p>

<p><img alt="" src="https://www.acmicpc.net/upload/images/tv.png" style="height:187px; width:446px"></p>

<p>P, Q, R을 3차 논리값을 갖는 변수라고 하자. 이때, 식이 주어졌을 때, 식의 값을 2로 만드는 (P,Q,R)쌍의 개수를 구하는 프로그램을 작성하시오. 식은 다음 중 하나의 형태를 갖는다. (X와 Y는 식을 의미한다)</p>

<ul>
	<li>상수: 0, 1, 2</li>
	<li>변수: P, Q, R</li>
	<li>NOT: -X</li>
	<li>AND: (X*Y)</li>
	<li>OR: (X+Y)</li>
</ul>

<p>AND와 OR은 항상 괄호로 둘러싸여 있다.</p>

<p>예를 들어, (P*Q)가 주어졌을 때, 식의 값을 2로 만드는 (P,Q,R)쌍은 (2,2,0), (2,2,1), (2,2,2) 3가지이다.</p>

## 입력 

 <p>입력은 여러 개의 테스트 케이스로 이루어져 있다. 각 테스트 케이스는 한 줄로 이루어져 있고, 식을 나타낸다. 식은 0, 1, 2, P, Q, R, -, *, +, (, )로만 이루어져 있다.</p>

<p>식의 BNF형 문법은 다음과 같다.</p>

<pre><formula> ::= 0 | 1 | 2 | P | Q | R |
              -<formula> | (<formula>*<formula>) | (<formula>+<formula>)</pre>

<p>        </p>

<p>입력은 80글자를 넘지 않는다. 마지막 줄에는 '.'이 주어진다.</p>

## 출력 

 <p>각 테스트 케이스에 대해서, 입력으로 주어진 식의 값을 2로 만드는 (P,Q,R) 쌍의 개수를 출력한다.</p>

